<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Grimoire des Souvenirs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/gif" href="log.gif">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="gsap.min.js"></script>
    <script src="ScrollTrigger.min.js"></script>
    <script src="howler.js"></script>
</head>
<body>
    <div class="access-overlay" id="accessOverlay">
        <div class="access-panel">
            <h1 class="access-title">Le Grimoire des Souvenirs</h1>
            <p class="access-subtitle">Pour ouvrir ses pages, murmure l'incantation.</p>
            <div class="input-group">
                <input type="password" id="mainPasswordInput" placeholder="Mot de passe secret...">
                <button id="enterButton" class="btn-primary">Entrer dans le mystère <i class="fas fa-magic"></i></button>
            </div>
            <p id="errorMessage" class="error-message"></p>
        </div>
    </div>

    <main id="mainContent" class="main-content hidden">
        <header class="site-header">
            <div class="profile-section">
                <img src="logo_profile2.gif" alt="Photo de profil" class="profile-pic">
                <div class="datetime-info">
                    <span id="currentDate" class="date-text"></span>
                    <span id="currentTime" class="time-text"></span>
                </div>
            </div>
        </header>

        <section class="library-section">
            <h2 class="library-title">Chapitres d'une Vie Enchantée</h2>
            <div class="book-shelf" id="bookShelf">
            </div>
        </section>

        <div class="book-modal-overlay" id="bookModalOverlay">
            <div class="book-modal">
                <button class="close-modal-btn"><i class="fas fa-times"></i></button>
                <div class="book-cover-animation" id="bookCoverAnimation">
                    <img src="" alt="Couverture du livre" class="animated-cover">
                </div>
                <div class="book-password-prompt" id="bookPasswordPrompt">
                    <h3>Pour accéder à ce souvenir, sa vérité doit être révélée.</h3>
                    <input type="password" id="bookPasswordInput" placeholder="Mot de passe du chapitre...">
                    <button id="verifyBookButton" class="btn-secondary">Dévoiler le Chapitre <i class="fas fa-book-open"></i></button>
                    <p id="bookErrorMessage" class="error-message"></p>
                </div>
                <div class="book-content-display hidden" id="bookContentDisplay">
                    <h2 id="modalBookTitle"></h2>
                    <iframe id="pdfViewer" style="width:100%; height:calc(100% - 50px); border:none;"></iframe>
                </div>
            </div>
        </div>
    </main>

    <div class="music-player" id="musicPlayer">
        <div class="vinyl-disc-container" id="vinylDiscContainer">
            <img src="logo_music2.gif" alt="Disque vinyle" class="vinyl-disc" id="vinylDisc">
            <button id="togglePlayerBtn" class="toggle-player-btn" title="Réduire/Étendre le lecteur">
                <i class="fas fa-chevron-left"></i> </button>
        </div>
        <div class="track-info" id="trackInfo">
            <div class="song-details">
                <span id="songTitle" class="song-title">Musique Enchanteresse</span>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                    <div class="progress-overlay" id="progressOverlay"></div>
                </div>
                <div class="time-display">
                    <span id="currentTimeDisplay" class="time-display">0:00</span> / <span id="durationDisplay" class="time-display">0:00</span>
                </div>
            </div>
            <div class="player-controls">
                <button id="prevTrackBtn"><i class="fas fa-backward"></i></button>
                <button id="playPauseBtn"><i class="fas fa-play"></i></button>
                <button id="nextTrackBtn"><i class="fas fa-forward"></i></button>
            </div>
        </div>
    </div>
    <script src="script.js" defer></script>
</body>
</html>
